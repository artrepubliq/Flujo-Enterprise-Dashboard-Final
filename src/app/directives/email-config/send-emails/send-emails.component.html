<ng4-loading-spinner></ng4-loading-spinner>


<div class="" ng-show="successMessagebool ">
  <ngx-alerts maxMessages="3" timeout="5000">
    <strong>{{successMessage }}</strong>
    <strong>{{deleteMessage}}</strong>
  </ngx-alerts>
</div>
<div class="page_padding-2" fxLayout="column" fxLayoutGap="30px">
  <div fxLayout="row" fxLayoutGap="25px" fxLayoutAlign="space-between center">
    <!-- <div id="gjs">
          <h1>Hello World Component!</h1>
        </div> -->
    <!-- <div fxFlex class="page-header">
      Send Emails
    </div> -->
    <!-- <button class="choose_button" (click)="downLoadCsvFormat()">Download Csv format</button> -->
    <div>
      <button class="choose_button" *ngIf="isOpen" (click)="templateSelectPopup()">Choose Template
        <span class="add_icon">
          <img src="../../assets/icons/create-icon-normal@3x.png" alt="+">
        </span>
      </button>
    </div>
    <div>
      <button class="choose_button" (click)="configureBulkEmail()">Configure Bulk Email
      </button>
    </div>
  </div>

  <form [formGroup]="mailSendingForm" class="admin-form" method="post" enctype="multipart/form-data">
    <div class="form-group">
      <div fxLayout="column" fxLayoutGap="25px">
        <div fxLayout="column" class="texClass" fxLayoutGap="25px">
          <div fxLayout="row">
            <div fxFlex>
              <div class="input_box page_input">
                <mat-form-field>
                  <mat-select formControlName="email" placeholder="Select Campaign">
                    <mat-option *ngFor="let email of campaignListDetails" [value]="email.address">{{email.name}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div fxFlex fxLayout="row">
              <div>
              <div class="input_box page_input">
                <label>Subject</label>
                <div class="input_error_feild">
                  <input formControlName="subject" id="subject" placeholder="Enter your subject">
                  <!-- <control-messages [control]="mailSendingForm.controls.subject"></control-messages> -->
                  <div [hidden]="mailSendingForm.controls.subject.valid || (mailSendingForm.controls.subject.pristine && !submitted)" class="form-error-msg">
                    enter valid subject
                  </div>
                </div>
              </div>
              </div>
            </div>
          </div>
          <!-- CKEditor -->
          <div>
            <div class="input_box">
              <label>Message</label>
              <div id="gjs"></div>
            </div>
          </div>

        </div>
        <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="end center" class="p-rel">
          <button type="button" mat-button class="button_cancel" (click)="cancelMail()">Cancel</button>
          <button type="submit" [hidden]="Ishide3" class="button_submit" (click)="mailSendingFormSubmit()" [disabled]="(!mailSendingForm.valid || !multipleEmails)">
            Send
          </button>
        </div>
        <!-- <button type="submit" class="btn btn-danger" (click)="mailSendingFormSubmit(mailSendingForm.value)">Delete</button> -->
      </div>
    </div>
  </form>
</div>