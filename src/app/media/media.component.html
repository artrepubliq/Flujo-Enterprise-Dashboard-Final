<div class="container">
  <ngx-alerts maxMessages="3" timeout="3000"></ngx-alerts>
  <ng4-loading-spinner></ng4-loading-spinner>
  <form [formGroup]="mediaManagementForm" enctype="multipart/form-data">
    <div class="col-md-12 form-group">
      <!-- <input  type="file" id="image" (change)="selectMedia($event)" #fileInput multiple> -->
      <image-upload id="image" (change)="selectMedia($event)" #fileInput></image-upload>
      <button class="btn btn-info upload" [hidden]="ishide" type="submit" (click)="mediaManagementFormSubmit(mediaManagementForm.value)">Upload</button>
    </div>
  </form>
  <div class="mb-3">
    <button mat-raised-button class="mr-3" (click)="changeShowStatus()">Select Images to Create Gallery</button>
    <button mat-raised-button (click)="showGallery()">Gallery</button>
  </div>

  <!-- Uploaded Images -->
  <form *ngIf="showCreateGallery" [formGroup]="submitAlbumData" enctype="multipart/form-data">
    <div>
      <label for="title">Title :</label>
      <input placeholder="Enter Album title here" type="text" formControlName="title">
    </div>
    <div class="row text-center text-lg-left">
      <div class="col-lg-3 col-md-4 col-xs-6 img-box" *ngFor="let items of mediaData,let i = index" (click)="hightlightStatus[i]=!hightlightStatus[i]; getImageId(items)"
        [class.highlight]="hightlightStatus[i]">
        <div class="img-item">
          <div class="bg-layer"></div>
          <img class="img-fluid img-thumbnail" src='data:image/png;base64,{{items.image}}' alt="">
          <div class="delete-img" (click)="deleteMediaImage(items.id)">
            <!-- <img src="../assets/icons/error.svg" class="img-fluid close-icon" (click)="deleteMediaImage(items.id)"> -->
            <i class="fa fa-times"></i>
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" type="submit" (click)="submitAlbumDataPost(submitAlbumData.value)" [disabled]="!submitAlbumData.valid">Create Gallery</button>
    <!-- <button class="btn btn-primary" (click)="submitAlbumDataPost(submitAlbumData.value)">Cancel</button> -->
  </form>
  <!-- // Uploaded Images -->

  <!-- Gallery Images -->
  <div *ngIf="showGridGallery" class="row grid-gallery">
    <div class="col-lg-2 col-md-3 col-sm-4 col-6" *ngFor="let img of images">
      <div class="grid-item" routerLink="gallery">
        <p>{{img.name}} </p>
        <div class="img-block">
          <img src="assets/{{img.imagesUer}}" class="img-fluid" alt="Gallary Img">
        </div>
      </div>
    </div>
  </div>
  <!-- // Gallery Images -->
</div>
