<ng4-loading-spinner></ng4-loading-spinner>

<div>
  <div class="page-header">
    Mailchimp
  </div>
</div>

<form [formGroup]="mailSendingForm" class="admin-form" method="post" enctype="multipart/form-data">
  <div class="form-group">
    <div fxLayout="column">
      <div class="col-6 p-0">
        <div class="input_box" fxLayout="column" fxLayoutGap="12px">
          <label>To Address</label>
          <input formControlName="email" id="email" placeholder="Type E-mail address">
          <div [hidden]="mailSendingForm.controls.email.valid || (mailSendingForm.controls.email.pristine && !submitted)" class="form-error-msg">
            enter valid email
          </div>
        </div>
        <div class="input_box" fxLayout="column" fxLayoutGap="12px">
          <label>Subject</label>
          <input formControlName="subject" id="subject" placeholder="Enter your subject">
          <control-messages [control]="mailSendingForm.controls.subject"></control-messages>
        </div>
      </div>
      <!-- CKEditor -->
      <div class="input_box" fxLayout="column" fxLayoutGap="12px">
        <label>Message</label>
        <ck-editor formControlName="message" class="editor-mail" id="message" [(ngModel)]="editorValue" skin="moono-lisa" lang="en"
          [fullPage]="true" [readonly]="false"></ck-editor>
        <control-messages [control]="mailSendingForm.controls.message"></control-messages>
      </div>

      <div class="form-input-block">
        <label>Select contacts from csv file </label>
        <input type="file" id="file" (change)="onFileChange($event)" #fileInput>
      </div>
      <div>
        <input type="checkbox" formControlName="check">
        <label>Select contacts from db</label>
      </div>
      <div fxLayoutAlign="end center">
        <button type="submit" [hidden]="Ishide3" class="button_submit" (click)="mailSendingFormSubmit(mailSendingForm.value)" [disabled]="!mailSendingForm.valid">
          Send
        </button>
      </div>
      <!-- <button type="submit" class="btn btn-danger" (click)="mailSendingFormSubmit(mailSendingForm.value)">Delete</button> -->
    </div>
  </div>
</form>

<div class="" ng-show="successMessagebool ">
  <ngx-alerts maxMessages="3" timeout="5000">
    <strong>{{successMessage }}</strong>
    <strong>{{deleteMessage}}</strong>
  </ngx-alerts>
</div>
