<ng4-loading-spinner></ng4-loading-spinner>
<ngx-alerts maxMessages="3" timeout="5000"></ngx-alerts>
<form id="themegform" [formGroup]="themeConfigForm" class="page_padding theme-global" fxLayout="column" fxLayoutGap="1.2rem">
  <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutGap="2rem" fxLayoutAlign="space-around">
    <!-- =====theme block ====== -->
    <div fxFlex="45%" fxLayout="column" fxLayoutGap="1.2rem">
      <div>
        <h6 class="theme-header">Fonts</h6>
      </div>
      <div fxLayout="row" fxLayoutGap="3rem" fxLayoutWrap fxLayoutAlign="start">
        <div fxFlex fxLayout="column" fxLayoutGap="3rem">
          <div fxLayout="row" fxLayoutGap="15px">
            <div fxFlex>
              <label class="sub-title">Title Font Family</label>
              <!-- <div class="rounded-rectangle-2736">
                <select required [(ngModel)]="selectedTitleFont" id="rolename" class="form-control btn-new select-option" data-style="btn-new"
                  (ngModelChange)='onOptionSelected($event)' formControlName="title_font">
                  <option selected [ngValue]="undefined" disabled>Select Font-Family</option>
                  <option class='option' *ngFor="let item of TitleFontFamily" value="{{item.name}}">{{item.name}}</option>
                </select>
              </div> -->
              <div>
                <mat-select class="select_dropdown_mat" placeholder="Title Font" required [(ngModel)]="selectedTitleFont" id="rolename" (ngModelChange)='onOptionSelected($event)'
                  formControlName="title_font">
                  <mat-option selected  disabled>Select Font-Family</mat-option>
                  <mat-option class='option' *ngFor="let item of TitleFontFamily" value="{{item.name}}">{{item.name}}</mat-option>
                </mat-select>
              </div>
            </div>
            <div fxFlex>
              <label class="sub-title">Body Font Family</label>
              <div>
                <mat-select required [(ngModel)]="selectedBodyFont" id="rolename" class="select_dropdown_mat" (ngModelChange)='onOptionSelected($event)'
                  formControlName="body_font_family">
                  <mat-option selected  disabled>Select Font-Family</mat-option>
                  <mat-option class='option' *ngFor="let item of TitleFontFamily" value="{{item.name}}">{{item.name}}</mat-option>
                </mat-select>
              </div>
            </div>
          </div>
          <div fxLayout="row" fxLayoutGap="3rem">
            <div fxFlex="100%">
              <label class="sub-title" for="fontSize">Font Size</label>
              <div class="form-group form-inline">
                <input fxFlex="80%" id="fontSize" type="number" class="form-control" [(ngModel)]="fontSize" min="8" max="30" formControlName="theme_font_size"
                  disabled/>
                <button class="adjustfontsize" [disabled]="fontSize >=30" (click)="fontSize = fontSize + 1">+</button>
                <button class="adjustfontsize" [disabled]="fontSize <= 8" (click)="fontSize = fontSize - 1">-</button>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="border-hor-one"></div>
      <div>
        <h6 class="theme-header">Colours</h6>
      </div>
      <div fxLayout="column" fxLayoutGap="2rem" fxLayoutWrap fxLayoutAlign="center">
        <div fxLayout="row" fxLayoutGap="2rem">
          <div class="colorPickerBox">
            <label class="sub-title" fxLayoutAlign="start" for="PrimaryMenuTitleColor">Primary Menu Title Color :</label>
            <input [cpPosition]="'right'" [cpPositionRelativeToArrow]="false" [value]="PrimaryMenuTitleColor" [(colorPicker)]="PrimaryMenuTitleColor"
              [cpOKButton]="true" [cpSaveClickOutside]="false" [style.background]="PrimaryMenuTitleColor" [style.color]="PrimaryMenuTitleColor"
              class="form-control" id="PrimaryMenuTitleColor" formControlName="primary_menu_title_color" (colorPickerChange)="themeConfigForm.get('primary_menu_title_color').setValue($event)"
            />
            <p class="hash-code">{{PrimaryMenuTitleColor}}</p>
          </div>
          <div class="colorPickerBox">
            <label class="sub-title" fxLayoutAlign="start" for="ChildMenuTitleColor">Child Menu Title Color :</label>
            <input [cpPosition]="'right'" [cpPositionRelativeToArrow]="false" [value]="ChildMenuTitleColor" [(colorPicker)]="ChildMenuTitleColor"
              [cpOKButton]="true" [cpSaveClickOutside]="false" [style.background]="ChildMenuTitleColor" [style.color]="ChildMenuTitleColor"
              class="form-control" id="ChildMenuTitleColor" formControlName="child_menu_title_color" (colorPickerChange)="themeConfigForm.get('child_menu_title_color').setValue($event)"
            />
            <p class="hash-code">{{ChildMenuTitleColor}}</p>
          </div>
          <div class="colorPickerBox">
            <label class="sub-title" for="titleColor" fxLayoutAlign="start">Select Gradient Title Colors :</label>
            <div fxLayout="" row>
              <input [cpPosition]="'right'" [cpPositionRelativeToArrow]="false" [value]="gradient_title_color1" [(colorPicker)]="gradient_title_color1"
                [cpOKButton]="true" [cpSaveClickOutside]="false" [style.background]="gradient_title_color1" [style.color]="gradient_title_color1"
                class="form-control" id="gradient_title_color1" formControlName="gradient_title_color1" (colorPickerChange)="themeConfigForm.get('gradient_title_color1').setValue($event); setGradientLeft($event);"
              />
              <input [cpPosition]="'right'" [cpPositionRelativeToArrow]="false" [value]="gradient_title_color2" [(colorPicker)]="gradient_title_color2"
                [cpOKButton]="true" [cpSaveClickOutside]="false" [style.background]="gradient_title_color2" [style.color]="gradient_title_color2"
                class="form-control" id="gradient_title_color1" formControlName="gradient_title_color2" (colorPickerChange)="themeConfigForm.get('gradient_title_color2').setValue($event); setGradientRight($event);"
              />
              <div id="gradientbox" [style.background]="gradientColor"></div>
            </div>
            <!-- <p class="hash-code">{{titleColor}}</p> -->
          </div>
        </div>
        <div fxLayout="row" fxLayoutGap="3rem">
          <div class="colorPickerBox">
            <label class="sub-title" fxLayoutAlign="start" for="PrimaryMenuOverColor">Primary Menu Hover Color :</label>
            <input [cpPosition]="'right'" [cpPositionRelativeToArrow]="false" [value]="PrimaryMenuOverColor" [(colorPicker)]="PrimaryMenuOverColor"
              [cpOKButton]="true" [cpSaveClickOutside]="false" [style.background]="PrimaryMenuOverColor" [style.color]="PrimaryMenuOverColor"
              class="form-control" id="PrimaryMenuOverColor" formControlName="primary_menu_hover_color" (colorPickerChange)="themeConfigForm.get('primary_menu_hover_color').setValue($event)"
            />
            <p class="hash-code">{{PrimaryMenuOverColor}}</p>
          </div>
          <div class="colorPickerBox">
            <label class="sub-title" fxLayoutAlign="start" for="ChildMenuOverColor">Child Menu Hover Color :</label>
            <input [cpPosition]="'right'" [cpPositionRelativeToArrow]="false" [value]="ChildMenuOverColor" [(colorPicker)]="ChildMenuOverColor"
              [cpOKButton]="true" [cpSaveClickOutside]="false" [style.background]="ChildMenuOverColor" [style.color]="ChildMenuOverColor"
              class="form-control" id="ChildMenuOverColor" formControlName="child_menu_hover_color" (colorPickerChange)="themeConfigForm.get('child_menu_hover_color').setValue($event)"
            />
            <p class="hash-code">{{ChildMenuOverColor}}</p>
            <input type="hidden" [value]="themeconfig_id" id='themeconfig_id' class="form-control" formControlName="themeconfig_id">
          </div>
        </div>
      </div>
    </div>
    <div fxHide.xs fxHide.sm fxLayout="column" class="rounded-rectangle-2360"></div>
    <!-- =====preview block ====== -->
    <div fxFlex="55%" fxLayout="column" fxLayoutGap="1.5rem">
        <div class="pad-10"></div>
      <div fxFlex="27%" fxLayout="row" fxLayoutGap="1rem" fxLayoutWrap fxLayoutAlign="spaece-around center">
        <h6 [style.background-image]="gradientColor" [ngStyle]="{'fontFamily': selectedTitleFont}" fxFlex="100%" class="preview-theme-header gradient">The quick brown fox jumps over the lazy dog</h6>
        <p [ngStyle]="{'fontFamily': selectedBodyFont, 'fontSize': fontSize + 'px'}">The quick brown fox jumps over the lazy dog</p>
      </div>
      <div class="pad-20"></div>
      <div class="border-hor-one"></div>
      <div class="pad-20"></div>
      <div fxLayout="row" fxLayoutGap="3rem" fxLayoutWrap fxLayoutAlign="spaece-around center">
        <h6 [style.color]="PrimaryMenuTitleColor" fxFlex="100%" class="preview-theme-header">Primary menu title color</h6>
        <p [style.color]="ChildMenuTitleColor">Child menu title color</p>
      </div>
      <div fxLayout="row" fxLayoutGap="3rem" fxLayoutWrap fxLayoutAlign="spaece-around center">
        <h6 [style.color]="PrimaryMenuOverColor" fxFlex="100%" class="preview-theme-header">Primary menu hover color</h6>
        <p [style.color]="ChildMenuOverColor">Child menu hover color</p>
      </div>
    </div>
  </div>
  <div fxLayout="row" class="rounded-rectangle-2358"></div>
  <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="1rem">
    <button class="pull-right btn" (click)="resetForm()">Cancel</button>
    <button class="pull-right button_submit" [disabled]="themeConfigForm.invalid" (click)="submitTheme()">Save</button>
  </div>
</form>
