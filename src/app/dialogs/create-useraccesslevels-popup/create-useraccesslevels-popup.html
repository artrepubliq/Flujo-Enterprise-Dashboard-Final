<!-- <ng4-loading-spinner></ng4-loading-spinner>
<div class="access-popUp">
    <div class="header">
        <h4>
            User Name: {{data.name}}
        </h4>
    </div>
    <br>
    <form fxLayout="column" action="" [formGroup]="accessLevelsFormSubmit">
        <div fxLayout="row" class="headings" fxLayoutGap="15px">
            <div fxFlex>
                Feature Type
            </div>
            <div fxFlex="100px">
                Access
            </div>
        </div>
        <div class="overflow_data" [perfectScrollbar]="config">
            <div fxLayout="column">
                <div class="access-item" fxLayout="row" *ngFor="let feature of features let i=index">
                    <div fxFlex>
                        {{feature}}
                        <div>
                            <div class="featue_details" *ngFor="let featureItem of featureDetails[feature] let j = index">
                                <div class="features">
                                    {{featureItem.feature_name}}
                                    <div class="toggle_features">
                                        <mat-slide-toggle [color]="color" [checked]="featureItem.isEnabled" (change)="configureFeature(feature, j)"></mat-slide-toggle>
                                    </div>
                                </div>
                                <div class=" feature_name_details">
                                    <div class="featue_details" *ngIf="featureItem.has_subfeature">
                                        <div class="featue_details features" *ngFor="let sub_feature of featureItem['sub_features'] let k = index">
                                            {{sub_feature.subfeature_name}} -- {{sub_feature.isEnabled}}
                                            <div>
                                                <mat-slide-toggle [color]="color" [checked]="sub_feature.isEnabled" (change)="configureSubFeature(feature, j, k, sub_feature)"></mat-slide-toggle>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="access_actions" fxLayoutAlign="end ">
            <button class="button_cancel" mat-button (click)="closeDialog()">Cancel</button>
            <button class="button_submit pull-right" (click)="onSubmit()" type="submit">Save</button>
        </div>
    </form>
</div> -->
<ng4-loading-spinner></ng4-loading-spinner>
<div class="access-popUp">
    <div class="header">
        <h4>
            User Name: {{userName}}
        </h4>
    </div>
    <br>
    <form fxLayout="column" action="" [formGroup]="accessLevelsFormSubmit">
        <div fxLayout="row" class="headings" fxLayoutGap="15px">
            <div fxFlex>
                Feature Type
            </div>
            <div fxFlex="100px">
                Access
            </div>
        </div>
        <div class="overflow_data" [perfectScrollbar]="config">
            <div fxLayout="column">
                <div class="access-item" fxLayout="row" *ngFor="let feature of features let i=index">
                    <div fxFlex>
                        {{feature}}
                        <div>
                            <div class="featue_details" *ngFor="let featureItem of featureDetails[feature] let j = index">
                                <div class="features">
                                    <h3 class="header_item">
                                        {{featureItem.feature_name}}
                                    </h3>
                                    <div class="toggle_features">
                                        <mat-slide-toggle [color]="color" [checked]="featureItem.isEnabled" (change)="configureFeature(feature, j, featureItem)"></mat-slide-toggle>
                                    </div>
                                </div>
                                <div class=" feature_name_details">
                                    <div class="featue_details" *ngIf="featureItem.has_subfeature">
                                        <div class="featue_details features sub_feature_item" *ngFor="let sub_feature of featureItem['sub_features'] let k = index">
                                            {{sub_feature.subfeature_name}}
                                            <div>
                                                <mat-slide-toggle [color]="color" [checked]="sub_feature.isEnabled" (change)="configureSubFeature(featureItem, feature, j, k, sub_feature)"></mat-slide-toggle>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div fxFlex="100px">
                        <div>
                            <mat-slide-toggle [color]="color" (change)="changeAccessLevel()"></mat-slide-toggle>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
        <div class="access_actions" fxLayoutAlign="end ">
            <button class="button_cancel" mat-button (click)="closeDialog()">Cancel</button>
            <button class="button_submit pull-right" (click)="onSubmit()" type="submit">Save</button>
        </div>
    </form>
</div>