<ng4-loading-spinner></ng4-loading-spinner>
<ngx-alerts maxMessages="3" timeout="5000"></ngx-alerts>


<!-- <div> -->
  <!-- <div class="addview-buttons">
    <button class="text-uppercase btn-addpage btn btn-outline-secondary float-right" mat-raised-button color="primary" (click)="addUsers()">Create User </button>
  </div> -->
  <div class="row" *ngIf="!isEdit">
    <div fxFlex >
        <button (click)="addUsers()" class="d-inline pull-right btn btn-sm btn-outline-secondary btn-users"><span>Create User <i class="fa fa-angle-right fa-2x d-inline"></i></span></button>
    </div><br/><br/>
    <!-- <div class="col-md-12">

      <h3>Create User List:</h3>
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">S.No</th>
            <th scope="col">Name</th>
            <th scope="col">Password</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">Role</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of userDetails">
            <!-- <th scope="row">{{page_item.id}}</th> -->
            <td>{{user.id}}</td>
            <td>{{user.user_name}}</td>
            <td>{{user.user_password}}</td>
            <td>{{user.email}}</td>
            <td>{{user.phone}}</td>
            <td *ngIf="user.role==1">Social Manager</td>
            <td *ngIf="user.role==2">Content Manager</td>
            <td>
              <button (click)="editCompnent(user)" class="btn btn-success">EDIT</button>
            </td>
            <td>
              <button (click)="onDelete(user)" class="btn btn-success">DELETE</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="form-header" *ngIf="isEdit">
    <h2>Create User</h2>
  </div>
      <!-- <form id="createuserform" *ngIf="isEdit" [formGroup]="CreateUserForm" (submit)="onSubmit(CreateUserForm.value)">
        <div fxLayout="column" fxFlex="50%" fxLayoutGap="3rem">
          <div fxLayout="column" fxLayoutGap="10px" class="form-group">
            <label fxLayoutAlign="start" for="name">Name :</label>
            <input type="text" class="form-control" id="name" formControlName="name" oninput="this.value=this.value.replace(/[^a-z-A-Z,' ']/g,'');"
              required placeholder="Name">
            <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.name.valid || CreateUserForm.controls.name.pristine && !submitted" class="alert">
              Name is required
            </div>
          </div>
           ////
            <div fxLayout="row" fxLayoutGap="10px" class="form-group">
              <label fxLayoutAlign="start" fxFlex="10" for="name">Password :</label>
              <input fxFlex="50" type="password" class="form-control" id="password" formControlName="user_password"
                required placeholder="Password">
              <div [hidden]="CreateUserForm.controls.user_password.valid || CreateUserForm.controls.user_password.pristine && !submitted" class="alert">
                Name is required
              </div>
            </div> 
          ///////
          <div fxLayout="column" fxLayoutGap="10px" class="form-group">
            <label fxLayoutAlign="start" fxFlex="10" for="email">Email :</label>
            <input fxFlex="50" type="Email" formControlName="email" class="form-control" id="email" placeholder="Email" required>
            <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.email.valid || CreateUserForm.controls.email.pristine && !submitted" class="alert">
              Valid Email is required
            </div>
          </div>
    
          <div fxLayout="column" fxLayoutGap="10px" class="form-group">
            <label fxLayoutAlign="start" fxFlex="10" for="role">Role :</label>
            <div fxFlex="50" class="select-wrap">
              <select fxFlex="50" formControlName="role" class="form-control" required id="role">
                <option value="" selected disabled>Select Role</option>
                <option value="1">Social Manager</option>
                <option value="2">Content Manager</option>
              </select>
            </div>
            <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.role.valid || CreateUserForm.controls.role.pristine && !submitted" class="alert">
              Role is required
            </div>
          </div>
          <div fxLayout="column" fxLayoutGap="10px" class="form-group">
            <label fxLayoutAlign="start" fxFlex="10" for="phonenumber">Phone :</label>
            <input fxFlex="50" type="tel" class="form-control" maxlength="10" formControlName="phone" id="phone" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
              placeholder="Phone Number" required>
            <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.phone.valid || CreateUserForm.controls.phone.pristine && !submitted" class="alert">
              Valid Phone number is required
            </div>
          </div>
          <div fxLayout="row" fxLayoutGap="10px">
            <button class="btn btn-sm btn-outline-secondary btn-user" type="submit" [disabled]="CreateUserForm.invalid || loading" mat-raised-button color="primary">{{button_text}}
              <i class="fa fa-spinner fa-spin fa-fw" *ngIf="loading"></i>
            </button>
            <button class="btn btn-sm btn-outline-secondary btn-user" mat-raised-button (click)="cancelUser()" >Cancel</button>
          </div>
        </div>
      </form> -->
  <div class="profile_block" fxLayoutAlign="center center">
  <div class="profile_logo">
    <!-- Logo Edit Block -->
    <form id="createuserform" *ngIf="isEdit" [formGroup]="CreateUserForm" (submit)="onSubmit(CreateUserForm.value)">
      <!-- Header -->
      <div class="profile_header">
        <h3 class="header_title">User Properties</h3>
        <!-- <button mat-icon-button [matMenuTriggerFor]="menu" class="menu-icon">
          <i class="fa fa-ellipsis-v"></i>
        </button>
        <mat-menu #menu="matMenu" xPosition="before">
          <button mat-menu-item>
            <span>Redial</span>
          </button>
          <button mat-menu-item disabled>
            <span>Check voicemail</span>
          </button>
          <button mat-menu-item>
            <span>Disable alerts</span>
          </button>
        </mat-menu> -->
      </div>
      <div class="profile_body" fxLayout="row" fxLayoutGap="40px">
        <div class="" fxLayout="column" fxLayoutGap="20px">
          <!-- Logo Image Upload -->
          <div class="profile_img">
            <div fxLayoutAlign="center center" class="logo-img">
              <span *ngIf=""><img src="../assets/default_logo.png" class="img-fluid"></span>
              <img *ngIf="" src="data:image/png;base64,{{profileItems.avatar}}" alt="Logo" class="img-fluid">
            </div>
            <div class="upload-logo">
              <input mat-raised-button type="file" id="avatar" accept=".jpg, .png, .jpeg" (change)="onFileChange($event)" #fileInput>
              <p *ngIf="" class="hover-upload">Upload Your Image</p>
              <p *ngIf="" class="hover-upload">Update Your Image</p>
              <button *ngIf="" class="delete_logo" matTooltip="Delete Profile Pic" matTooltipPosition="right" (click)="onDelete()"><i class="fa fa-times"></i></button>
              <div class="bg-layer"></div>
            </div>
          </div>
          <!-- Logo File Details -->
          <!-- <div class="logo-details">
            <p class="file_Name">flujo_logo.svg</p>
            <p class="file_Prop">Original : 48 px x 48 px</p>
            <p class="file_Prop">3 kb</p>
          </div> -->
        </div>
        <div fxLayout="column" fxLayoutGap="1rem" fxFlex="100%">
          <div fxLayout="column">
            <!-- <div fxLayout="row" fxLayoutGap="0.5rem"> -->
              <div fxLayout="column" class="form-group">
                <div><label fxLayoutAlign="start" for="user_name">First Name</label></div>
                <div><input fxFlex="100%" type="text" class="form-control" id="user_name" formControlName="user_name" placeholder="First Name"  required oninput="this.value=this.value.replace(/[^a-z-A-Z,' ']/g,'');" ></div>
                <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.user_name.valid || CreateUserForm.controls.user_name.pristine && !submitted" class="alert">
                    First Name is required
                </div>
              </div>
              <!-- <div fxLayout="column" class="form-group" hidden>
                <div><label fxLayoutAlign="start" for="last_name">Last Name</label></div>
                <div><input type="text" class="form-control" id="last_name" placeholder="Last Name" formControlName="last_name" oninput="this.value=this.value.replace(/[^a-z-A-Z,' ']/g,'');" ></div>
                <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.last_name.valid || CreateUserForm.controls.last_name.pristine && !submitted" class="alert">
                    Last Name is required
                </div>
              </div> -->
            <!-- </div> -->
          </div>
          <div fxLayout="column" class="form-group">
            <div><label>Mobile Number</label></div>
            <div><input fxFlex="100%" type="tel" class="form-control" maxlength="10" formControlName="phone" id="phone" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
              maxlength="10" placeholder="Phone Number" required></div>
            <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.phone.valid || CreateUserForm.controls.phone.pristine && !submitted" class="alert">
                  Valid Phone number is required
            </div>
          </div>
          <div fxLayout="column" class="form-group">
              <div><label>Email</label></div>
              <div><input fxFlex="100%" type="Email" formControlName="email" class="form-control" id="email" placeholder="Email" required></div>
              <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.email.valid || CreateUserForm.controls.email.pristine && !submitted" class="alert">
                  Valid Email is required
              </div>
          </div>
          <div fxLayout="column" class="form-group">
              <div><label>Role</label></div>
              <div fxFlex="50" class="select-wrap">
                  <select fxFlex="100%" formControlName="role" class="form-control" required id="role">
                    <option value="" selected>Select Role</option>
                    <option value="1">Social Manager</option>
                    <option value="2">Content Manager</option>
                  </select>
              </div>
              <div fxLayoutAlign="start" [hidden]="CreateUserForm.controls.role.valid || CreateUserForm.controls.role.pristine && !submitted" class="alert">
                  Role is required
              </div>
          </div>
        </div>
      </div>
      <!-- Save Button -->
      <div class="profile_footer" fxLayout="row" fxLayoutAlign="end center">
        <!-- <p>You can also resize and position logo, when you are in visual editor</p> -->
        <div><button mat-button class="logoCtrl_button cancel" (click)="cancelUser()" >Cancel</button></div>
        <div><button mat-button class="logoCtrl_button" type="submit" [disabled]="CreateUserForm.invalid || loading" mat-raised-button>{{button_text}}
          <i class="fa fa-spinner fa-spin fa-fw" *ngIf="loading"></i>
        </button></div>
        <!-- <button mat-button class="logoCtrl_button" (click)="onDelete(form.value)" [disabled]="form.invalid || loading">Delete</button> -->
      </div>
    </form>
    <!-- //.. Logo Edit Block -->
  </div>

</div>

<!-- </div> -->




